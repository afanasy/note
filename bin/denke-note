#!/usr/bin/env node

'use strict';


process.bin = process.title = 'denke-note';

var colors = require('colors'),
    note = require('../index.js'),
    portfinder = require('portfinder'),
    opener = require('opener'),
    Path = require('path'),
    parser = require("nomnom");

parser.command('serve')
	.option('content', {
      abbr: 'c',
      required: false,
      help: "The path to the content folder"
   })
	.option('port', {
      abbr: 'p',
      required: false,
      help: "Will try and use numbers >= the port number defined here"
   })
   .callback(function(opts) {
      var config = {};
      if(opts.content) { 
      	config.content = opts.content; 
      } else { 
      	config.content = process.cwd();
      }
      if(opts.port) { config.port = opts.port; }
      console.log(config)
      note.start(config);
   })
   .help("serve a given folder");

parser.parse();